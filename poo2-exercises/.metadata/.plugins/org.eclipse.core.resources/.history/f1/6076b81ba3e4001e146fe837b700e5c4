package application;

import java.time.LocalDate;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

import entities.Aluno;
import entities.Curso;
import entities.Matricula;
import exception.IdadeException;

public class Program {

    private static List<Aluno> alunos = new ArrayList<>();
    private static List<Curso> cursos = new ArrayList<>();
    private static List<Matricula> matriculas = new ArrayList<>();
    private static Scanner sc = new Scanner(System.in);
	
	public static void main(String[] args) {
		        
        boolean sair = false;
        while (!sair) {
            System.out.println("\nSistema de Matrículas");
            System.out.println("1. Cadastrar Aluno");
            System.out.println("2. Cadastrar Curso");
            System.out.println("3. Realizar Matrícula");
            System.out.println("4. Sair");
            System.out.print("Escolha uma opção: ");
            
            int opcao = sc.nextInt();
            
            
            switch (opcao) {
            	case 1:
            		cadastrarAluno();
            		
            	case 4:
            		sair = true;
            		System.out.println("Saindo do sistema...");
            		break;
            	default:
            		System.out.println("Opcao inválida. Tente novamente!");
            }
        }

        alunos.add(new Aluno(1, "Henrique Sampaio", LocalDate.of(2000, 1, 15)));
        cursos.add(new Curso(101, "Sistemas de Informação", LocalDate.now()));
        
        try {
            Matricula novaMatricula = new Matricula(alunos.get(0), cursos.get(0), LocalDate.now());
            matriculas.add(novaMatricula);
            System.out.println("Matrícula realizada com sucesso!");
        } catch (IdadeException e) {
            System.out.println(e.getMessage());
        }
	}

	private static void cadastrarAluno() {
        System.out.println("\nCadastro de Aluno");
        System.out.print("Número da matrícula: ");
        int numMatricula = sc.nextInt();
        sc.nextLine();
        System.out.print("Nome: ");
        String nome = sc.nextLine();
        System.out.print("Data de Nascimento (YYYY-MM-DD): ");
        LocalDate dataNascimento = LocalDate.parse(sc.nextLine());
        alunos.add(new Aluno(numMatricula, nome, dataNascimento));
        System.out.println("Aluno cadastrado com sucesso!");
	}

}
